# ASP.NET Core MVC "Только факты" (NET5.0)
Создать что-то новое порой бывает очень трудно, особенно если задача требуется креативного подхода. Использование готового шаблона всегда существенно упрощало задачу. Для примера, попробуйте создать проект нового сайта для Visual Studio в "ручном" режиме, то есть без генерации первоначального кода. Описание проекта и постановка задач можно посмотреть на [видео](https://youtu.be/HOKigyWmw8s)

В этом репозитории находится проект, который является новой версией уже существующего сайта jfacts.ru. Реализация сопровождается видео материалами, в которых показаны все сложности, проблемы и трудности, которые пришлось решить процессе создания новой версии: импорт/экспорт данных, трансформация данных в новый формат, сохранение машрутов сайта (routing), миграция из ASP.NET MVC 5 на ASP.NET Core MVC и другие важные вещи. Данный репозиторий содержит код приложение на платорме ASP.NET Core MVC с использованием Blazor-компонентов ([NET 5.0](https://dot.net)).

## О приложении
Самые интересные и невероятные факты со всего света. Весь список тем можно посмотреть в облаке меток. Факты нам присылают наши читатели, мы публикуем их после проверки.

## Цели и задачи проекта
Показать на конкретном примере конкретного сайта (хоть и очень простого) проблемные моменты и способы их решения. Потому что всегда для любого разработчика "ковыряться" в старом коде было не самой приятной задачей (на мой взгляд) и тем более в чужом старом коде. И именно это нам (разработчикам) приходится делать при устройстве на новую работу.

## Затронутые аспекты:
* EntityFrameworkCore (ORM)
* EntityFrameworkCore Migrations
* MS SQL Server
* Microsoft.AspNetCore.Identity
* Mediatr (паттерн "Посредник")
* Automapper (маппинг DTO)
* BackgroudWorker (IHostedServices)
* Blazor (Components)
* JavaScript (очень мало)
* BundleConfig (CSS и JavaScript)
* Razor (разметка для MVC)
* Razor (TagHelper компоненты)
* Bootstrap фреймворк (CSS)
* Font Awesome (icons)
* Serilog (loпging)
* и многие другие

## Основные функциональные возможности
Функциональность сайта разделяется на две части. На сайте реализована возможность просмотра контента анонимным посетителем (далее, Пользователь) и пользователь, который произвел вход на сайт с использованием Login/Password (далее, Администратор). Делегирование роли Администратор сторонними пользователям не требуется. Но реализация ролей показана на видео.

### Пользователи сайта могут:
* Просматривать список фактов постранично (факты в списке сортированные по дате регистрации в порядке убывания).
* Открыть любой из фактов на отдельной странице, где можно видеть более детальную информацию о факте.
* Подписаться на RSS-канал, чтобы видеть новые поступления фактов.
* Посмотреть облако меток (tags) с возможностью выбора одно для фильтрации по нему списка фактов.
* Сбрасывать фильтр по метке (tag).
* Отправлять сообщение через форму обратной связи
* Просмотреть информации о проекте на специально странице

### Администратор сайта может:
* Добавлять факты
* Удалять факты
* Редактировать факты
* Отправлять ответы через формы на электронные адрес пользователя как ответ на сообщение пришедшее через форму обратной связи.
* Просматривать список сообщений (message), которые были отправлены через сайт.
* Фильтровать список сообщений (message) по статусу Отправлено/Не отправлено
* Найти метку по названию и отредактировать ее название

## План реализации приложения
**Внимание!** *Данный план является предварительным, потмоу что список задач, которые предстоит решить в процессе создания новой версии приложения может подвергнуться существенной переработки. По мере создания функциональности план будет пересмотрен.*

* ~~Регистрация репозитория github.com~~ ()
* ~~Создание проекта и его подготовка к разработке~~
    * ~~Настройка логирования в log-файл~~
    * ~~Реализация "вход/выход" на сайте~~
* ~~Настройка добавления учетной записи при создании новой базы (SEED)~~
* Создание сущностей (классов) и конфигрурирование сущностей (EntityTypeConfiguration)
    * Fact
    * Tag
    * Message
* Создание EF-миграции и базы данных
* Перенос данных из старой БД в новую базу данных
* Создание ViewModels для сущностей и настройка маппинга
* Шаблоны ASP.NET MVC (_Layout) и управление ими
* Страницы сайта для посетителя
    * Обновление разметки главной страницы
    * Страница "О сайте"
    * Страница "Обратная связь" (Message)
    * Реализация постраничного просмотра списка фактов на главной странице
    * Страница детального просмотра выбранного факта
* Страницы сайта для администратора
    * Страница "панель управления"
    * Страница "добавление факта"
    * Страница "редактирования факта"
    * Страница "удаления факта"
    * Страница "отправки почтового сообщения"
* BackgroundWorker по отправки почтовых писем из таблицы Messages
* 

# Видео материалы
* [Только факты 0: Цели и задачи проекта](https://youtu.be/HOKigyWmw8s)
* [Только факты 1: Создание и подготовка проекта](https://youtu.be/jwzgp6lyvYQ)
